webpackJsonp([1],[function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}a(5);var o=a(10),l=n(o),r=window.loginInfo={community:"金科.天辰",duty:{name:"刑川",period:"2017/3/4 8:00-23:00",number:"AB198742"},serverTime:new Date};window._global={time:r.serverTime};var i=React.createClass({displayName:"Page",getInitialState:function(){return{}},componentDidMount:function(){setInterval(function(){var e=_global.time;e.setSeconds(e.getSeconds()+1)},1e3)},render:function(){return React.createElement(Layout,{className:"layout"},React.createElement(Layout.Header,{style:{background:"rgba(0, 0, 0, 0)",height:130}},React.createElement("div",{style:{position:"absolute",right:80,top:0,"font-weight":"bold"}},React.createElement("div",{style:{height:16,"line-height":16}},"值班安排信息:"),React.createElement("div",{style:{height:16,"line-height":16}},"日期:",r.duty.period),React.createElement("div",{style:{height:16,"line-height":16}},"值班人员:",r.duty.name),React.createElement("div",{style:{height:16,"line-height":16}},"值班工号:",r.duty.number)),React.createElement(Menu,{mode:"horizontal",defaultSelectedKeys:["1"],style:{background:"rgba(0, 0, 0, 0)","border-bottom":"15px solid rgb(3, 137, 170)","margin-top":18}},React.createElement(Menu.Item,{key:"1",style:{background:"url(../images/menu1.png) no-repeat","background-size":"100% 100%","border-bottom":"0",margin:"0",height:50,width:300}}," "),React.createElement(Menu.Item,{key:"2",style:{background:"url(../images/menu2.png) no-repeat","background-size":"100% 100%","border-bottom":"0",margin:"0",height:40,width:180}}," "),React.createElement(Menu.Item,{key:"3",style:{background:"url(../images/menu2.png) no-repeat","background-size":"100% 100%","border-bottom":"0",margin:"0",height:40,width:180}}," "))),React.createElement(Layout.Content,{style:{padding:"0 50px"}},React.createElement(l.default,null)),React.createElement(Layout.Footer,{style:{textAlign:"center"}},"重庆深圳市亿万家智能家居公司"))}});ReactDOM.render(React.createElement(i,null),$("#app")[0])},,,,,function(e,t){},,,,,function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(3),l=n(o),r=a(11),i=n(r);a(12);var c={unit:["1","2","4","7"],room:{1:["01-6","01-5","01-12","01-6","01-5","01-12","01-6","01-5","01-6","01-5","01-12","01-6","01-5","01-6","01-5","01-12","01-6","01-5"],2:["03-6","03-5"],4:["04-6","04-5"],7:["07-6","07-5"]}},d=React.createClass({displayName:"Out",hold:{roomInfoFit:{}},getInitialState:function(){var e=$.extend(!0,{},c),t=0;this.hold.roomInfoFit=e;for(var a=1;a<5;a++)if(e.unit.length>a){var n=e.unit[a-1];e.room[n].length>t&&(t=e.room[n].length)}else e.unit.push("_"+a),e.room["_"+a]=[];for(name in e.room)for(var o=t-e.room[name].length;o>0;)e.room[name].push("_"),o--;return{unit:void 0,time:window._global.time}},componentDidMount:function(){var e=this;setInterval(function(){e.forceUpdate()},1e3)},chooseUint:function(e){this.setState({unit:e})},render:function(){var e=this,t=window.loginInfo;return React.createElement(Row,{type:"flex"},React.createElement(Col,{span:"12",style:{background:"url(../images/bg2.png) no-repeat","background-size":"100% 100%",padding:"0px 15px"}},React.createElement(Row,{style:{position:"absolute",left:"5%",top:-15,width:"90%",height:30,background:"url(../images/bar.png) no-repeat","background-size":"100% 100%"},type:"flex",justify:"space-between"},React.createElement(Col,{span:"8",style:{"text-align":"left",color:"white","font-size":14,"line-height":30}},React.createElement("div",{style:{paddingLeft:15}},t.community,"小区信息列表")),React.createElement(Col,{span:"14",style:{"text-align":"right",color:"white","line-height":30}},React.createElement("div",{style:{paddingRight:15}},l.default.Date.format(this.state.time,"yyyy/MM/dd hh:mm"),"  今日接警人员:",t.duty.name))),React.createElement(i.default,{style:{height:508,"margin-top":14}})),React.createElement(Col,{span:"12",style:{background:"url(../images/bg2.png) no-repeat","background-size":"100% 100%",padding:"0px 15px"}},React.createElement(Row,{style:{position:"absolute",left:"5%",top:-15,width:"90%",height:30,background:"url(../images/bar.png) no-repeat","background-size":"100% 100%"},type:"flex",justify:"space-between"},React.createElement(Col,{span:"8",style:{"text-align":"left",color:"white","font-size":14,"line-height":30}},React.createElement("div",{style:{paddingLeft:15}},t.community,"小区信息列表")),React.createElement(Col,{span:"14",style:{"text-align":"right",color:"white","line-height":30}},React.createElement("div",{style:{paddingRight:15}},l.default.Date.format(this.state.time,"yyyy/MM/dd hh:mm"),"  今日值班人员:",t.duty.name))),React.createElement(Row,{style:{width:"90%",height:55,margin:"0 auto",paddingTop:10}},React.createElement(Col,{style:{"text-align":"left","font-size":14,"line-height":45}},React.createElement("img",{style:{"margin-top":"10",float:"left"},src:"../images/search.png"}),React.createElement("div",{style:{float:"left",color:"rgb(1, 173, 216)",paddingLeft:5}},"快速查询 :"),React.createElement(AutoComplete,{style:{float:"left","margin-top":"10",paddingLeft:5,width:40},dataSource:c.unit,onChange:this.chooseUint}),React.createElement("div",{style:{float:"left",color:"rgb(1, 173, 216)",paddingLeft:5}},"栋"),React.createElement(AutoComplete,{style:{float:"left","margin-top":"10",paddingLeft:5,width:100},dataSource:c.room[this.state.unit]}))),React.createElement("div",{style:{width:"92%",margin:"0 auto"}},React.createElement("ul",{style:{"white-space":"nowrap",overflow:"auto",height:470}},this.hold.roomInfoFit.unit.map(function(t,a){return React.createElement("li",{style:{display:"inline-block",width:"20%",height:"100%","vertical-align":"top"}},function(){var n={display:"inline-block",width:"100%",background:"rgb(3, 137, 170)",height:"28","padding-left":10,color:"white","font-size":16,"line-height":28};return 0==a?$.extend(n,{"border-radius":"10px 0px 0px 10px"}):a==e.hold.roomInfoFit.unit.length-1&&$.extend(n,{"border-radius":"0px 10px 10px 0px"}),React.createElement("div",{style:n}," ",t.startsWith("_")?"":t+" 栋")}(),React.createElement("ul",{style:{border:"1px dashed  #ccc","border-width":"0 1px"}},e.hold.roomInfoFit.room[t].map(function(e){return React.createElement("li",{style:{padding:"8px 0px 8px 10px"}},function(){return e.startsWith("_")?React.createElement("div",{style:{height:22}}):React.createElement("div",null,React.createElement("img",{style:{height:12},src:"../images/watch.png"}),React.createElement("font",{style:{height:22,"padding-left":10,"line-height":22}},t+"栋-"+e))}())})))})))))}});t.default=d},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(!function(){var e=new Error('Cannot find module "../../../component/FormModal.jsx"');throw e.code="MODULE_NOT_FOUND",e}()),i=n(r),c=a(!function(){var e=new Error('Cannot find module "../../../component/ShowModal.jsx"');throw e.code="MODULE_NOT_FOUND",e}()),d=n(c),s=a(3),u=n(s),h=React.createClass({displayName:"PageTable",hold:{defaultHandleMsg:"已处理",defaultHandleMsgColor:"#d0d0d0",chooseRow:{}},getInitialState:function(){return{currentPageNo:1,data:{},msgColor:this.hold.defaultHandleMsgColor}},componentDidMount:function(){var e=this;this.load(1),setInterval(function(){e.reload(!1)},1e4)},handleOpen:function(e){this.hold.chooseRow=e,this.refs.handleForm.open()},handle:function(e,t){var a=this,n=$.extend({id:this.hold.chooseRow.id},e.getFieldsValue()),o="/home/alarm/handle.json";u.default.ajax.sendForm(e,{url:o,data:n,successText:"处理成功",successCall:function(){t.close(),a.reload()}})},lookOpen:function(e){this.hold.chooseRow=e,this.refs.lookCard.open()},load:function(e,t){t!==!1&&this.setState({loading:!0});var a="/home/alarm/pagination.json",n={pageNo:e,sizePerPage:20};$.ajax({url:a,dataType:"json",data:n,success:function(t){t.success&&(this.setState(t.data),this.setState({currentPageNo:e,loading:!1}))}.bind(this)})},reload:function(e){var t=this.state.currentPageNo;this.load(t,e)},enteringHandleMsg:function(e){var t=$(e.target);t.val()==this.hold.defaultHandleMsg?$(e.target).css("color",this.hold.defaultHandleMsgColor):$(e.target).css("color","")},render:function(){var e=this,t=o(this.props,[]),a=this.state,n={current:a.currentPageNo,total:a.totalCount,pageSize:20,showQuickJumper:!0,onChange:function(e){this.load(e)}.bind(this),showTotal:function(e){var t=(a.currentPageNo-1)*a.pageSize+1+"~"+(a.currentPageNo*a.pageSize<a.totalCount?a.currentPageNo*a.pageSize:a.totalCount)+"/"+e;return t}};t.loading=a.loading;var r=[{dataIndex:"",render:function(e){return 0==e.status?React.createElement("div",null,React.createElement("img",{style:{height:10},src:"../images/alert.png"}),React.createElement("font",{color:"red",style:{"padding-left":6}},"【报警中】")):React.createElement("div",null,React.createElement("font",{color:"grey",style:{"padding-left":16}},"【正常】"))}},{title:"房间",dataIndex:"room"},{title:"报警类型",dataIndex:"type.itemName"},{title:"报警时间",dataIndex:"alarmTime"},{title:"状态",dataIndex:"status.itemName"},{title:"",dataIndex:"",render:function(t){return 0==t.status?React.createElement("a",{href:"#",onClick:e.handleOpen.bind(e,t)},"处理"):React.createElement("a",{href:"#",onClick:e.lookOpen.bind(e,t)},"查看")}}];return React.createElement("div",null,React.createElement(Table,l({pagination:n,bordered:!1,columns:r,dataSource:a.result,size:"small",rowClassName:function(){return"alertTable"}},t)),React.createElement(i.default,{ref:"handleForm",okText:"确定",onOk:this.handle,title:"处理记录",templateOpt:{labelCol:{span:4},items:[{label:"处理备注",field:{formOpt:{id:"handleMessage",rules:[{required:!0,message:"必填"}],initialValue:this.hold.defaultHandleMsg},fieldOpt:{type:"textarea",placeholder:"请录入备注信息",style:{color:this.state.msgColor},onChange:this.enteringHandleMsg}}}]}}),React.createElement(d.default,{ref:"lookCard",title:"处理记录",templateOpt:{colItem:1,items:[{label:"处理时间",value:this.hold.chooseRow.handleTime},{label:"处理备注",value:this.hold.chooseRow.handleMessage}]}}))}});t.default=h},function(e,t){}]);